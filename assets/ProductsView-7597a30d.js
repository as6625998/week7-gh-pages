import{_ as k,o as r,c as l,d as t,n as d,i as m,F as v,j as f,t as u,a as x,b as $,r as _,e as g,w as h,g as y}from"./index-217795b9.js";import{N as V}from"./NavProduct-f3649a48.js";import{c as w}from"./cart-16ac4cb7.js";const E={props:["pages"],methods:{updatePage(i){this.$emit("emit-page",i)}}},T={"aria-label":"Page navigation example "},N={class:"pagination pagination-md justify-content-center"},R=t("span",{"aria-hidden":"true"},"«",-1),L=[R],S={key:0,class:"page-link"},A=["onClick"],B=t("span",{"aria-hidden":"true"},"»",-1),D=[B];function I(i,e,a,b,c,o){return r(),l("nav",T,[t("ul",N,[t("li",{class:d(["page-item",{disabled:!a.pages.has_pre}])},[t("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=m(n=>o.updatePage(a.pages.current_page-1),["prevent"]))},L)],2),(r(!0),l(v,null,f(a.pages.total_pages,n=>(r(),l("li",{class:d(["page-item",{active:a.pages.current_page===n}]),key:n},[a.pages.current_page===n?(r(),l("span",S,u(n),1)):(r(),l("a",{key:1,class:"page-link",href:"#",onClick:m(p=>o.updatePage(n),["prevent"])},u(n),9,A))],2))),128)),t("li",{class:d(["page-item",{disabled:!a.pages.has_next}])},[t("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=m(n=>o.updatePage(a.pages.current_page+1),["prevent"]))},D)],2)])])}const U=k(E,[["render",I]]),{VITE_URL:j,VITE_PATH:q}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"koung-hexschool",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},F={data(){return{products:[],pagination:{},category:"所有商品",currentPage:1}},components:{RouterLink:x,PaginationView:U,NavProduct:V},methods:{getProducts(i=1,e=""){this.$route.query.page&&(i=this.$route.query.page,this.$route.query.page=""),this.currentPage=i,this.$http.get(`${j}/v2/api/${q}/products?page=${i}&category=${e}`).then(a=>{this.products=a.data.products,this.pagination=a.data.pagination,console.log(a.data)})},getCategory(i){this.category=i,i==="所有商品"?this.getProducts():this.getProducts(1,i)},...$(w,["addToCart"])},mounted(){this.getProducts()}},H={class:"bg-light py-5"},M={class:"container mt-md-5 mt-3 mb-7"},O={class:"row"},z={"aria-label":"breadcrumb"},G={class:"breadcrumb"},J={class:"breadcrumb-item"},K=t("li",{class:"breadcrumb-item active","aria-current":"page"},"有機蔬果",-1),Q={class:"col-md-3"},W={class:"list-group fs-5"},X={class:"col-md-9"},Y={class:"row g-3"},Z={class:"card mb-4 rounded-3"},tt={class:"card-img-container p-0 rounded-top"},et=["src","alt"],st={class:"card-body px-3 pt-3"},it={class:"card-title"},at={class:"badge rounded-pill align-middle bg-warning fs-7"},ot={class:"card-text"},nt={class:"d-grid"},ct=["onClick"];function rt(i,e,a,b,c,o){const n=_("NavProduct"),p=_("RouterLink"),P=_("router-link"),C=_("PaginationView");return r(),l(v,null,[g(n),t("div",H,[t("div",M,[t("div",O,[t("nav",z,[t("ol",G,[t("li",J,[g(p,{style:{"text-decoration":"none"},class:"text-dark",to:"/"},{default:h(()=>[y("首頁")]),_:1})]),K])]),t("div",Q,[t("ul",W,[t("li",{value:"所有商品",class:d(["list-group-item list-group-item-action list-group-item-success py-3",{active:c.category==="所有商品"}]),onClick:e[0]||(e[0]=s=>o.getCategory("所有商品"))},"所有商品 ",2),t("li",{value:"葉菜",class:d(["list-group-item list-group-item-action list-group-item-success py-3",{active:c.category==="葉菜"}]),onClick:e[1]||(e[1]=s=>o.getCategory("葉菜"))},"新鮮葉菜",2),t("li",{value:"根莖瓜果",class:d(["list-group-item list-group-item-action list-group-item-success py-3",{active:c.category==="根莖瓜果"}]),onClick:e[2]||(e[2]=s=>o.getCategory("根莖瓜果"))},"根莖瓜果",2),t("li",{value:"蕈菇",class:d(["list-group-item list-group-item-action list-group-item-success py-3",{active:c.category==="蕈菇"}]),onClick:e[3]||(e[3]=s=>o.getCategory("蕈菇"))},"新鮮蕈菇",2),t("li",{value:"水果",class:d(["list-group-item list-group-item-action list-group-item-success py-3",{active:c.category==="水果"}]),onClick:e[4]||(e[4]=s=>o.getCategory("水果"))},"當季水果",2)])]),t("div",X,[t("div",Y,[(r(!0),l(v,null,f(c.products,s=>(r(),l("div",{class:"col-lg-6",key:s.id},[t("div",Z,[t("div",tt,[g(P,{to:`/product/${s.id}`},{default:h(()=>[t("img",{src:s.imageUrl,class:"card-img-top object-fit-cover p-0",alt:s.id},null,8,et)]),_:2},1032,["to"])]),t("div",st,[t("h5",it,[g(p,{class:"text-success fs-2 fw-bold",style:{"text-decoration":"none"},to:`/product/${s.id}`},{default:h(()=>[y(u(s.title)+" ",1),t("span",at,u(s.category),1)]),_:2},1032,["to"])]),t("p",ot,"價格: NT$"+u(s.price)+"元",1),t("div",nt,[t("button",{type:"button",class:"btn btn-dark",onClick:lt=>i.addToCart(s.id)},"加入購物車",8,ct)])])])]))),128))])])])]),g(C,{pages:c.pagination,onEmitPage:o.getProducts},null,8,["pages","onEmitPage"])])],64)}const _t=k(F,[["render",rt]]);export{_t as default};
