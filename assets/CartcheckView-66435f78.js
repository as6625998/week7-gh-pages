import{N as m}from"./NavProduct-f3649a48.js";import{_ as b,m as f,b as u,r as g,o as l,c as n,e as k,d as o,F as _,j as y,t as s,i as w}from"./index-217795b9.js";import{c as p}from"./cart-16ac4cb7.js";const{VITE_URL:a,VITE_PATH:i}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"koung-hexschool",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},x={data(){return{orderId:"",orderInfo:{},orderUser:{},orderProducts:[]}},components:{NavProduct:m},computed:{...f(p,["carts","total","final_total"])},methods:{...u(p,["getCart"]),formatDate(t){return new Date(t*1e3).toLocaleString()},getAllOrder(){this.$http.get(`${a}/v2/api/${i}/orders`).then(t=>{console.log(t)})},getOrder(){this.orderId=this.$route.params.id,this.$http.get(`${a}/v2/api/${i}/order/${this.orderId}`).then(t=>{this.orderInfo=t.data.order,this.orderUser=t.data.order.user,this.orderProducts=t.data.order.products})},payOrder(){this.orderId=this.$route.params.id,this.$http.post(`${a}/api/${i}/pay/${this.orderId}`).then(t=>{this.$router.push(`/paysuccess/${this.orderId}`),console.log(t)})}},mounted(){this.getOrder()}},I={class:"container"},v={class:"row"},U={class:"col-lg-6 my-5 p-5 mb-5 mb-lg-0"},N=o("h2",{class:"py-4"},"訂購內容",-1),T={class:"table align-middle"},D=o("tr",{class:"border-bottom"},null,-1),E={class:"d-flex align-items-center py-4"},O=["src"],V={class:"d-flex flex-column flex-md-row justify-content-between w-75 mx-4"},S={class:"d-flex flex-column"},A={class:"mb-1 py-2"},L={class:"mb-1 py-2"},R={class:"mb-1 py-2"},B={class:"mb-0 fs-4 text-success mt-auto"},C={class:"col-lg-6"},j={class:"my-5 p-5 rounded-2 bg-light border border-2"},P=o("h2",{class:"fs-lg py-4 border-bottom border-dark border-opacity-10"}," 訂單資訊 ",-1),F={class:"mb-6 ps-0"},H={class:"d-flex ps-0 p-2 border-bottom border-dark border-opacity-20"},M={class:"fw-regular d-md-none"},$=o("p",{class:"fw-regular d-none d-md-block col-4"},"訂單金額：",-1),q={class:"col d-none d-md-block col"},z={class:"d-flex ps-0 p-2 border-bottom border-dark border-opacity-20"},G={class:"fw-regular d-md-none"},J=o("p",{class:"fw-regular d-none d-md-block col-4"},"訂單編號：",-1),K={class:"col d-none d-md-block col"},Q={class:"d-flex ps-0 p-2 border-bottom border-dark border-opacity-20"},W={class:"fw-regular d-md-none"},X=o("p",{class:"fw-regular d-none d-md-block col-4"},"下單時間：",-1),Y={class:"col d-none d-md-block col"},Z={class:"d-flex ps-0 p-2 border-bottom border-dark border-opacity-20"},oo={class:"fw-regular d-md-none"},so=o("p",{class:"fw-regular d-none d-md-block col-4"},"寄送地址：",-1),eo={class:"col d-none d-md-block col"},to={class:"d-flex ps-0 p-2 border-bottom border-dark border-opacity-20"},ro={class:"fw-regular d-md-none"},co=o("p",{class:"fw-regular d-none d-md-block col-4"},"顧客姓名：",-1),lo={class:"col d-none d-md-block col"},no={class:"d-flex ps-0 p-2 border-bottom border-dark border-opacity-20"},ao={class:"fw-regular d-md-none"},io=o("p",{class:"fw-regular d-none d-md-block col-4"},"聯絡電話：",-1),_o={class:"col d-none d-md-block col"},po={class:"d-flex ps-0 p-2 border-bottom border-dark border-opacity-20"},ho={class:"fw-regular d-md-none"},mo=o("p",{class:"fw-regular d-none d-md-block col-4"},"電子信箱：",-1),bo={class:"col d-none d-md-block col"},fo={class:"d-flex ps-0 p-2 border-bottom border-dark border-opacity-20"},uo={class:"fw-regular d-md-none"},go=o("p",{class:"fw-regular d-none d-md-block col-4"},"客戶備註：",-1),ko={class:"col d-none d-md-block col"};function yo(t,c,wo,xo,e,d){const h=g("NavProduct");return l(),n(_,null,[k(h),o("div",I,[o("div",v,[o("section",U,[N,o("table",T,[o("tbody",null,[D,(l(!0),n(_,null,y(e.orderProducts,r=>(l(),n("tr",{key:r.id},[o("td",E,[o("img",{src:r.product.imageUrl,class:"object-fit-cover d-block",width:"120",height:"120",alt:"item.product.title"},null,8,O),o("div",V,[o("div",S,[o("p",A,s(r.product.title),1),o("p",L,"NT$"+s(r.product.price)+" / "+s(r.product.unit),1),o("p",R,"數量："+s(r.qty),1)]),o("p",B,"NT$"+s(r.final_total),1)])])]))),128))])])]),o("div",C,[o("div",j,[P,o("ul",F,[o("li",H,[o("p",M," 訂單金額： NT$ "+s(e.orderInfo.total),1),$,o("p",q,"NT$ "+s(e.orderInfo.total),1)]),o("li",z,[o("p",G,"訂單編號： "+s(e.orderInfo.id),1),J,o("p",K,s(e.orderInfo.id),1)]),o("li",Q,[o("p",W," 下單時間： "+s(d.formatDate(e.orderInfo.create_at)),1),X,o("p",Y,s(d.formatDate(e.orderInfo.create_at)),1)]),o("li",Z,[o("p",oo," 寄送地址： "+s(e.orderUser.address),1),so,o("p",eo,s(e.orderUser.address),1)]),o("li",to,[o("p",ro," 顧客姓名： "+s(e.orderUser.name),1),co,o("p",lo,s(e.orderUser.name),1)]),o("li",no,[o("p",ao,"聯絡電話： "+s(e.orderUser.tel),1),io,o("p",_o,s(e.orderUser.tel),1)]),o("li",po,[o("p",ho," 電子信箱： "+s(e.orderUser.email),1),mo,o("p",bo,s(e.orderUser.email),1)]),o("li",fo,[o("p",uo," 客戶備註： "+s(e.orderInfo.message),1),go,o("p",ko,s(e.orderInfo.message),1)])]),o("button",{type:"button",class:"btn btn-primary text-light w-100",onClick:c[0]||(c[0]=w((...r)=>d.payOrder&&d.payOrder(...r),["prevent"]))}," 確認付款 ")])])])])],64)}const No=b(x,[["render",yo]]);export{No as default};
